cd "$(dirname "${BASH_SOURCE[0]}")" || exit 1
BASE=$(pwd)

# My RCs
for rc in alacritty.yml tmux.conf gitconfig bash_profile bashrc; do
  mkdir -pv backup
  [ -e ~/."$rc" ] && mv -v ~/."$rc" backup/."$rc"
  ln -sfv "$BASE/$rc" ~/."$rc"
done


# My scripts
mkdir -p ~/bin
for bin in $BASE/bin/; do
  ln -svf "$bin" ~/bin
done

# Homebrew
if [ "$(uname -s)" = 'Darwin' ]; then
  # Homebrew
  [ -z "$(which brew)" ] &&
    ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

  echo "--Updating homebrew"
  brew cask install sequel-pro

  brew install \
    shellcheck s3cmd docker-compose docker fd ripgrep \
    git tree vim wget zsh jq python python3 go htop nvm \
    reattach-to-user-namespace
fi


# Global Git Config
git config --global user.email "jayjhan8@gmail.com"
git config --global user.name "Jayzz"

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

# Install powerline
git clone https://github.com/powerline/fonts.git --depth=1
pushd fonts
./install.sh
popd
rm -rf fonts

tmux source-file ~/.tmux.conf
./install-alacritty
./install-vim
